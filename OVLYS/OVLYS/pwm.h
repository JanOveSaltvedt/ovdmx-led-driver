/*
 * pwm.h
 *
 * Created: 8/10/2013 3:11:53 PM
 *  Author: Jan Ove Saltvedt
 */ 


#ifndef PWM_H_
#define PWM_H_

#include <avr/io.h>
#include "TC_driver.h"

#define PWM_1 0
#define PWM_2 1
#define PWM_3 2
#define PWM_4 3
#define PWM_5 4
#define PWM_6 5
#define PWM_7 6
#define PWM_8 7
#define PWM_9 8
#define PWM_10 9
#define PWM_11 10
#define PWM_12 11
#define PWM_13 12
#define PWM_14 13
#define PWM_15 14
#define PWM_STATUS 15

uint8_t pwm_init(void);
void pwm_set_value(uint8_t n, uint16_t val);
void pwm_set_led_value(uint8_t n, uint8_t val);

#define LED_CORRECTION	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,2,2,2,3,3,4,4,5,6,6,7,8,8,9,10,11,12,13,14,15,16,18,19,20,22,23,25,27,28,30,32,34,36,38,40,43,45,48,50,53,55,58,61,64,67,70,74,77,80,84,88,91,95,99,103,108,112,116,121,126,130,135,140,145,151,156,162,167,173,179,185,191,197,204,211,217,224,231,238,246,253,261,268,276,284,293,301,310,318,327,336,345,355,364,374,384,394,404,414,425,436,446,458,469,480,492,504,516,528,540,553,566,579,592,605,619,632,646,661,675,690,704,719,735,750,766,781,797,814,830,847,864,881,899,916,934,952,970,989,1008,1027,1046,1066,1085,1105,1125,1146,1167,1188,1209,1230,1252,1274,1296,1319,1341,1364,1388,1411,1435,1459,1483,1508,1533,1558,1583,1609,1635,1661,1688,1715,1742,1769,1797,1825,1853,1881,1910,1939,1969,1998,2028,2059,2089,2120,2151,2183,2215,2247,2279,2312,2345,2378,2412,2446,2480,2515,2550,2585,2621,2656,2693,2729,2766,2803,2841,2879,2917,2956,2994,3034,3073,3113,3153,3194,3235,3276,3318,3360,3402,3445,3488,3532,3575,3619,3664,3709,3754,3800,3846,3892,3939,3986,4033,4081}
#define TABLE_HSV_TO_RGB_RED {255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,250,246,242,238,233,229,225,221,216,212,208,204,199,195,191,187,182,178,174,170,165,161,157,153,148,144,140,136,131,127,123,118,114,110,106,101,97,93,89,84,80,76,72,67,63,59,55,50,46,42,38,33,29,25,21,16,12,8,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,21,25,29,34,38,42,46,51,55,59,63,67,72,76,80,84,89,93,97,102,106,110,114,119,123,127,131,135,140,144,148,152,157,161,165,170,174,178,182,187,191,195,199,203,208,212,216,220,225,229,233,238,242,246,250,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255}
#define TABLE_HSV_TO_RGB_GREEN {0,4,8,12,16,21,25,29,33,38,42,46,50,55,59,63,67,72,76,80,84,89,93,97,102,106,110,114,119,123,127,131,136,140,144,148,153,157,161,165,170,174,178,182,187,191,195,199,204,208,212,216,221,225,229,233,238,242,246,250,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,250,246,242,237,233,229,225,221,216,212,208,203,199,195,191,187,182,178,174,169,165,161,157,153,148,144,140,135,131,127,123,119,114,110,106,101,97,93,89,85,80,76,72,67,63,59,55,51,46,42,38,33,29,25,21,17,12,8,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
#define TABLE_HSV_TO_RGB_BLUE {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,17,21,25,29,33,38,42,46,51,55,59,63,67,72,76,80,85,89,93,97,101,106,110,114,119,123,127,131,135,140,144,148,153,157,161,165,169,174,178,182,187,191,195,199,203,208,212,216,221,225,229,233,237,242,246,250,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,250,246,242,238,233,229,225,220,216,212,208,203,199,195,191,187,182,178,174,170,165,161,157,152,148,144,140,135,131,127,123,119,114,110,106,102,97,93,89,84,80,76,72,67,63,59,55,51,46,42,38,34,29,25,21,16,12,8,4}

#endif /* PWM_H_ */